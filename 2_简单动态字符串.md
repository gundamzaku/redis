```c
src/sds.h中定义，有多种，8位、16位、32位、64位
struct __attribute__ ((__packed__)) sdshdr16 {
    uint16_t len; /* used */
    uint16_t alloc; /* excluding the header and null terminator */
    unsigned char flags; /* 3 lsb of type, 5 unused bits */
    char buf[];
};
```
```
__attribute__ ((packed)) 的作用就是告诉编译器取消结构在编译过程中的优化对齐,按照实际占用字节数进行对齐，是GCC特有的语法。
这个功能是跟操作系统没关系，跟编译器有关，gcc编译器不是紧凑模式的，我在windows下，用vc的编译器也不是紧凑的，用tc的编译器就是紧凑的。  
__attribute__ 可以设置函数属性（Function Attribute ）、变量属性（Variable Attribute ）和类型属性（Type Attribute ）。  
__attribute__ 书写特征是：__attribute__ 前后都有两个下划线，并切后面会紧跟一对原括弧，括弧里面是相应的__attribute__ 参数。  
```
3.0中结构不一样。
```c
struct sdshdr {
    unsigned int len;
    unsigned int free;
    char buf[];
};
```
int free记录未使用字节，此处已经不存在。  

例：存入redis五个字符。  
即buf写入'r''e''d''i''s''\0'  
len=5  
free=0，未分配任何未使用空间。  
